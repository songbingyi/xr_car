<weui-infiniteloader (loadmore)="onLoadMore($event)" #comp>
    <div class="home-page" #scrollMe>
        <div class="full-with-page header-menu">
            <ul>
                <li *ngFor="let serviceType of serviceTypes; index as index">
                    <div class="header-menu-item" (click)="goModule(serviceType)" *ngIf="serviceType.service_type_status === '1' || serviceType.service_type_status === '2'">
                        <img [src]="'/assets/images/menu/' + serviceType.service_type_key + (serviceType.service_type_status === '2' ? '.grey.png' : '.png')"/>
                        <h3>{{serviceType.service_type_name}}</h3>
                    </div>
                </li>
                <!--<li>
                    <div class="header-menu-item" [routerLink]="['/certificate']">
                        <img src="/assets/images/menu/certificate.png"/>
                        <h3>营运证</h3>
                    </div>
                </li>
                <li>
                    <div class="header-menu-item" [routerLink]="['/review']">
                        <img src="/assets/images/menu/review.png"/>
                        <h3>审车</h3>
                    </div>
                </li>
                <li>
                    <div class="header-menu-item">
                        <img src="/assets/images/menu/insurance.grey.png"/>
                        <h3>保险</h3>
                    </div>
                </li>
                <li>
                    <div class="header-menu-item">
                        <img src="/assets/images/menu/violate.grey.png"/>
                        <h3>违章</h3>
                    </div>
                </li>-->
            </ul>
        </div>

        <div class="weui-flex">
            <div class="weui-flex__item">
                <div class="placeholder" (click)="showCarTypePop()">{{selectedCarType?.car_product_category_name}}<img class="dropdown-icon" src="/assets/images/dropdown.png" /></div>
            </div>
            <div class="weui-flex__item">
                <div class="placeholder" (click)="showCarSeriesPop()">{{selectedCarSeries?.car_product_series_name}}<img class="dropdown-icon" src="/assets/images/dropdown.png" /></div>
            </div>
        </div>
        <div class="product-list">
            <div class="item-list" *ngIf="isLoaded && products.length">
                <div class="weui-media-box weui-media-box_appmsg" *ngFor="let product of products; index as index;" [routerLink]="['/detail', product.product_id]">
                    <div class="weui-media-box__hd">
                        <img class="weui-media-box__thumb" [src]="product.product_image.thumb" alt="">
                    </div>
                    <div class="weui-media-box__bd">
                        <!--<h4 class="weui-media-box__title">{{product.product_name}}</h4>-->
                        <p class="weui-media-box__desc">{{product.product_name}}</p>
                        <div class="weui-media-box__footer">
                            {{product.price_description}}
                            <span class="cart" (click)="toCart($event, product)" [hidden]="product.is_can_order!=='1'"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="empty-container" *ngIf="isLoaded && products.length===0">
                <div class="empty">
                    <img src="/assets/images/empty.png" />
                    <p>内容突然就没有了</p>
                </div>
            </div>
        </div>

        <!--<div class="" [hidden]="!showCarType">
            <div class="weui-mask weui-animate-fade-in weui-mask__in"></div>
            <div class="weui-picker weui-animate-slide-up">
                <div class="weui-picker__hd">
                    <a href="javascript:;" data-action="cancel" class="weui-picker__action" (click)="cancelCarTypeBox()">取消</a>
                    <a href="javascript:;" data-action="select" class="weui-picker__action" (click)="selectCarType()">确定</a>
                </div>
                <div class="weui-picker__bd">
                    <div class="weui-cells weui-cells_radio">
                        <label class="weui-cell weui-check__label" for="carType-{{carType.carType_id}}" *ngFor="let carType of carTypeList; index as index">
                            <div class="weui-cell__bd">
                                <p>{{carType.carType_name}}</p>
                            </div>
                            <div class="weui-cell__ft">
                                <input type="radio" class="weui-check" [(ngModel)]="selectedCarType" [value]="carType" name="date" id="carType-{{carType.carType_id}}">
                                <span class="weui-icon-checked"></span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>-->

        <!--<div class="" [hidden]="!showCarSeries">
            <div class="weui-mask weui-animate-fade-in weui-mask__in"></div>
            <div class="weui-picker weui-animate-slide-up">
                <div class="weui-picker__hd">
                    <a href="javascript:;" data-action="cancel" class="weui-picker__action" (click)="cancelCarSeriesBox()">取消</a>
                    <a href="javascript:;" data-action="select" class="weui-picker__action" (click)="selectCarSeries()">确定</a>
                </div>
                <div class="weui-picker__bd">
                    <div class="weui-cells weui-cells_radio">
                        <label class="weui-cell weui-check__label" for="carSeries-{{carSeries.carSeries_id}}" *ngFor="let carSeries of carSeriesList; index as index">
                            <div class="weui-cell__bd">
                                <p>{{carSeries.carSeries_name}}</p>
                            </div>
                            <div class="weui-cell__ft">
                                <input type="radio" class="weui-check" [(ngModel)]="selectedCarSeries" [value]="carSeries" name="carSeries" id="carSeries-{{carSeries.carSeries_id}}">
                                <span class="weui-icon-checked"></span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>-->

        <!--<div class="full-with-page item-list">
            <ul *ngIf="isLoaded && products.length">
                <li *ngFor="let product of products; index as index;">
                    <a [routerLink]="['/detail', product.product_id]">
                        <div class="aspect-ratio" data-ratio="1:1">
                            <img [src]="product.product_image.thumb"/>
                        </div>
                        <h4>{{product.product_name}}</h4>
                        <p>{{product.price_description}}</p>
                    </a>
                </li>
            </ul>
            <div class="empty-container" *ngIf="isLoaded && products.length===0">
                <div class="empty">
                    <img src="/assets/images/empty.png" />
                    <p>内容突然就没有了</p>
                </div>
            </div>
        </div>-->
        <div class="goTop" (click)="goTop();" [hidden]="(products.length && !show) || products.length===0"></div>
    </div>
</weui-infiniteloader>
